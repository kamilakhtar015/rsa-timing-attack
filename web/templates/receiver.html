<!DOCTYPE html>
<html>
<head>
  <title>Receiver</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h2>ðŸ”“ Receiver</h2>
  <button onclick="startReceiver()">Start Receiver</button>
  <div id="logs"></div>

  <script>
    function startReceiver() {
      fetch('/start-receiver', { method: 'POST' })
        .then(res => res.json())
        .then(data => alert(data.message));
    }

    setInterval(() => {
      fetch('/api/receiver/logs')
        .then(res => res.json())
        .then(data => {
          const logList = data.logs.map(line => `<li>${line}</li>`).join('');
          document.getElementById("logs").innerHTML = `<ul>${logList}</ul>`;
        });
    }, 2000);
  </script>
</body>
</html>
